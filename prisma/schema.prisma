generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Player {
  name     String
  username String @id
  avatar   String

  battingStats  BattingStats[]
  BowlingStats  BowlingStats[]
  FieldingStats FieldingStats[]

  @@map("players")
}

model BattingStats {
  id         String   @id @default(uuid()) @db.Uuid()
  playerName String   @map("player_name")
  date       DateTime @db.Date()
  matches    Int
  runs       Int
  notOuts    Int      @map("not_outs")
  best       Int
  fours      Int
  sixes      Int
  ducks      Int

  player Player @relation(fields: [playerName], references: [username])

  @@unique([playerName, date])
  @@map("bowling_stats")
}

model BowlingStats {
  id         String   @id @default(uuid()) @db.Uuid()
  playerName String   @map("player_name")
  date       DateTime @db.Date()
  matches    Int
  wickets    Int
  overs      Int
  maidens    Int
  dots       Int
  runs       Int
  wides      Int
  noBalls    Int

  player Player @relation(fields: [playerName], references: [username])

  @@unique([playerName, date])
  @@map("batting_stats")
}

model FieldingStats {
  id         String   @id @default(uuid()) @db.Uuid()
  playerName String
  date       DateTime @db.Date()
  runOuts    Int      @map("run_outs")
  stumpings  Int
  catches    Int

  player Player @relation(fields: [playerName], references: [username])

  @@unique([playerName, date])
  @@map("fielding_stats")
}
